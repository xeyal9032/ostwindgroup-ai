{"ast":null,"code":"import _objectSpread from\"C:/Users/xeyal/Desktop/Ai/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Analytics Service - OstWindGroup AI\nclass AnalyticsService{constructor(){this.sessionId=this.generateSessionId();this.startTime=Date.now();this.events=[];this.isEnabled=process.env.NODE_ENV==='production';}generateSessionId(){return'session_'+Date.now()+'_'+Math.random().toString(36).substr(2,9);}// Event tracking\ntrackEvent(eventName){let properties=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.isEnabled)return;const event={sessionId:this.sessionId,eventName,properties:_objectSpread(_objectSpread({},properties),{},{timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,language:navigator.language})};this.events.push(event);console.log('ðŸ“Š Analytics Event:',event);// Send to analytics endpoint\nthis.sendToAnalytics(event);}// Send analytics data to Netlify function\nasync sendToAnalytics(event){try{await fetch('/.netlify/functions/analytics',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(event)});}catch(error){console.error('Analytics send error:',error);}}// Chat specific events\ntrackChatStart(){this.trackEvent('chat_start',{sessionStartTime:this.startTime});}trackMessageSent(message){let model=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'groq';this.trackEvent('message_sent',{messageLength:message.length,model:model,timestamp:Date.now()});}trackMessageReceived(responseTime){let model=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'groq';this.trackEvent('message_received',{responseTime:responseTime,model:model,timestamp:Date.now()});}trackModelSwitch(fromModel,toModel){this.trackEvent('model_switch',{fromModel:fromModel,toModel:toModel,timestamp:Date.now()});}trackError(errorType,errorMessage){this.trackEvent('error_occurred',{errorType:errorType,errorMessage:errorMessage,timestamp:Date.now()});}trackConversationCreate(){this.trackEvent('conversation_create',{timestamp:Date.now()});}trackConversationDelete(){this.trackEvent('conversation_delete',{timestamp:Date.now()});}// Performance tracking\ntrackPerformance(metric,value){this.trackEvent('performance_metric',{metric:metric,value:value,timestamp:Date.now()});}// User engagement\ntrackEngagement(action){let duration=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.trackEvent('user_engagement',{action:action,duration:duration,timestamp:Date.now()});}// Session summary\ngetSessionSummary(){const sessionDuration=Date.now()-this.startTime;return{sessionId:this.sessionId,duration:sessionDuration,eventCount:this.events.length,startTime:this.startTime,endTime:Date.now()};}// Track session end\ntrackSessionEnd(){const summary=this.getSessionSummary();this.trackEvent('session_end',summary);}}// Create singleton instance\nconst analytics=new AnalyticsService();// Track page visibility changes\ndocument.addEventListener('visibilitychange',()=>{if(document.hidden){analytics.trackEngagement('page_hidden');}else{analytics.trackEngagement('page_visible');}});// Track page unload\nwindow.addEventListener('beforeunload',()=>{analytics.trackSessionEnd();});export default analytics;","map":{"version":3,"names":["AnalyticsService","constructor","sessionId","generateSessionId","startTime","Date","now","events","isEnabled","process","env","NODE_ENV","Math","random","toString","substr","trackEvent","eventName","properties","arguments","length","undefined","event","_objectSpread","timestamp","toISOString","url","window","location","href","userAgent","navigator","language","push","console","log","sendToAnalytics","fetch","method","headers","body","JSON","stringify","error","trackChatStart","sessionStartTime","trackMessageSent","message","model","messageLength","trackMessageReceived","responseTime","trackModelSwitch","fromModel","toModel","trackError","errorType","errorMessage","trackConversationCreate","trackConversationDelete","trackPerformance","metric","value","trackEngagement","action","duration","getSessionSummary","sessionDuration","eventCount","endTime","trackSessionEnd","summary","analytics","document","addEventListener","hidden"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/services/analytics.js"],"sourcesContent":["// Analytics Service - OstWindGroup AI\r\nclass AnalyticsService {\r\n  constructor() {\r\n    this.sessionId = this.generateSessionId();\r\n    this.startTime = Date.now();\r\n    this.events = [];\r\n    this.isEnabled = process.env.NODE_ENV === 'production';\r\n  }\r\n\r\n  generateSessionId() {\r\n    return 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\r\n  }\r\n\r\n  // Event tracking\r\n  trackEvent(eventName, properties = {}) {\r\n    if (!this.isEnabled) return;\r\n\r\n    const event = {\r\n      sessionId: this.sessionId,\r\n      eventName,\r\n      properties: {\r\n        ...properties,\r\n        timestamp: new Date().toISOString(),\r\n        url: window.location.href,\r\n        userAgent: navigator.userAgent,\r\n        language: navigator.language\r\n      }\r\n    };\r\n\r\n    this.events.push(event);\r\n    console.log('ðŸ“Š Analytics Event:', event);\r\n\r\n    // Send to analytics endpoint\r\n    this.sendToAnalytics(event);\r\n  }\r\n\r\n  // Send analytics data to Netlify function\r\n  async sendToAnalytics(event) {\r\n    try {\r\n      await fetch('/.netlify/functions/analytics', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(event)\r\n      });\r\n    } catch (error) {\r\n      console.error('Analytics send error:', error);\r\n    }\r\n  }\r\n\r\n  // Chat specific events\r\n  trackChatStart() {\r\n    this.trackEvent('chat_start', {\r\n      sessionStartTime: this.startTime\r\n    });\r\n  }\r\n\r\n  trackMessageSent(message, model = 'groq') {\r\n    this.trackEvent('message_sent', {\r\n      messageLength: message.length,\r\n      model: model,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  trackMessageReceived(responseTime, model = 'groq') {\r\n    this.trackEvent('message_received', {\r\n      responseTime: responseTime,\r\n      model: model,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  trackModelSwitch(fromModel, toModel) {\r\n    this.trackEvent('model_switch', {\r\n      fromModel: fromModel,\r\n      toModel: toModel,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  trackError(errorType, errorMessage) {\r\n    this.trackEvent('error_occurred', {\r\n      errorType: errorType,\r\n      errorMessage: errorMessage,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  trackConversationCreate() {\r\n    this.trackEvent('conversation_create', {\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  trackConversationDelete() {\r\n    this.trackEvent('conversation_delete', {\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // Performance tracking\r\n  trackPerformance(metric, value) {\r\n    this.trackEvent('performance_metric', {\r\n      metric: metric,\r\n      value: value,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // User engagement\r\n  trackEngagement(action, duration = null) {\r\n    this.trackEvent('user_engagement', {\r\n      action: action,\r\n      duration: duration,\r\n      timestamp: Date.now()\r\n    });\r\n  }\r\n\r\n  // Session summary\r\n  getSessionSummary() {\r\n    const sessionDuration = Date.now() - this.startTime;\r\n    return {\r\n      sessionId: this.sessionId,\r\n      duration: sessionDuration,\r\n      eventCount: this.events.length,\r\n      startTime: this.startTime,\r\n      endTime: Date.now()\r\n    };\r\n  }\r\n\r\n  // Track session end\r\n  trackSessionEnd() {\r\n    const summary = this.getSessionSummary();\r\n    this.trackEvent('session_end', summary);\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst analytics = new AnalyticsService();\r\n\r\n// Track page visibility changes\r\ndocument.addEventListener('visibilitychange', () => {\r\n  if (document.hidden) {\r\n    analytics.trackEngagement('page_hidden');\r\n  } else {\r\n    analytics.trackEngagement('page_visible');\r\n  }\r\n});\r\n\r\n// Track page unload\r\nwindow.addEventListener('beforeunload', () => {\r\n  analytics.trackSessionEnd();\r\n});\r\n\r\nexport default analytics;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}