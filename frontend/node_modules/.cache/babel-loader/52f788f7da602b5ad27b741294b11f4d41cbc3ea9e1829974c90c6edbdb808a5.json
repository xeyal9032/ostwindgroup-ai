{"ast":null,"code":"import React from'react';import{Card,CardContent,CardHeader,CardTitle}from'./ui/Card';import{MessageSquare,Clock,User,Bot}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatStats=_ref=>{let{conversations,allMessages}=_ref;const totalConversations=conversations.length;const totalMessages=allMessages.length;const userMessages=allMessages.filter(msg=>msg.role==='user').length;const assistantMessages=allMessages.filter(msg=>msg.role==='assistant').length;// En aktif sohbet\nconst conversationStats=conversations.map(conv=>({id:conv.id,title:conv.title,messageCount:allMessages.filter(msg=>msg.conversation_id===conv.id).length})).sort((a,b)=>b.messageCount-a.messageCount);const mostActiveConversation=conversationStats[0];// Ortalama mesaj uzunluğu\nconst avgMessageLength=allMessages.length>0?Math.round(allMessages.reduce((sum,msg)=>sum+msg.content.length,0)/allMessages.length):0;// Son 7 günün istatistikleri\nconst lastWeek=new Date();lastWeek.setDate(lastWeek.getDate()-7);const recentMessages=allMessages.filter(msg=>new Date(msg.timestamp)>=lastWeek).length;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Genel \\u0130statistikler\"})]})}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-primary\",children:totalConversations}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-muted-foreground\",children:\"Toplam Sohbet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold text-primary\",children:totalMessages}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-muted-foreground\",children:\"Toplam Mesaj\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold text-blue-600\",children:userMessages}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground flex items-center justify-center\",children:[/*#__PURE__*/_jsx(User,{className:\"w-3 h-3 mr-1\"}),\"Kullan\\u0131c\\u0131 Mesajlar\\u0131\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold text-green-600\",children:assistantMessages}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground flex items-center justify-center\",children:[/*#__PURE__*/_jsx(Bot,{className:\"w-3 h-3 mr-1\"}),\"AI Yan\\u0131tlar\\u0131\"]})]})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Aktivite \\u0130statistikleri\"})]})}),/*#__PURE__*/_jsxs(CardContent,{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold text-orange-600\",children:recentMessages}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-muted-foreground\",children:\"Son 7 G\\xFCn\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-semibold text-purple-600\",children:avgMessageLength}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-muted-foreground\",children:\"Ort. Mesaj Uzunlu\\u011Fu\"})]})]}),mostActiveConversation&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-muted-foreground mb-1\",children:\"En Aktif Sohbet\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold truncate\",title:mostActiveConversation.title,children:mostActiveConversation.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted-foreground\",children:[mostActiveConversation.messageCount,\" mesaj\"]})]})]})]})]});};export default ChatStats;","map":{"version":3,"names":["React","Card","CardContent","CardHeader","CardTitle","MessageSquare","Clock","User","Bot","jsx","_jsx","jsxs","_jsxs","ChatStats","_ref","conversations","allMessages","totalConversations","length","totalMessages","userMessages","filter","msg","role","assistantMessages","conversationStats","map","conv","id","title","messageCount","conversation_id","sort","a","b","mostActiveConversation","avgMessageLength","Math","round","reduce","sum","content","lastWeek","Date","setDate","getDate","recentMessages","timestamp","className","children"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/ChatStats.js"],"sourcesContent":["import React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from './ui/Card';\r\nimport { MessageSquare, Clock, User, Bot } from 'lucide-react';\r\n\r\nconst ChatStats = ({ conversations, allMessages }) => {\r\n  const totalConversations = conversations.length;\r\n  const totalMessages = allMessages.length;\r\n  const userMessages = allMessages.filter(msg => msg.role === 'user').length;\r\n  const assistantMessages = allMessages.filter(msg => msg.role === 'assistant').length;\r\n  \r\n  // En aktif sohbet\r\n  const conversationStats = conversations.map(conv => ({\r\n    id: conv.id,\r\n    title: conv.title,\r\n    messageCount: allMessages.filter(msg => msg.conversation_id === conv.id).length\r\n  })).sort((a, b) => b.messageCount - a.messageCount);\r\n\r\n  const mostActiveConversation = conversationStats[0];\r\n\r\n  // Ortalama mesaj uzunluğu\r\n  const avgMessageLength = allMessages.length > 0 \r\n    ? Math.round(allMessages.reduce((sum, msg) => sum + msg.content.length, 0) / allMessages.length)\r\n    : 0;\r\n\r\n  // Son 7 günün istatistikleri\r\n  const lastWeek = new Date();\r\n  lastWeek.setDate(lastWeek.getDate() - 7);\r\n  \r\n  const recentMessages = allMessages.filter(msg => \r\n    new Date(msg.timestamp) >= lastWeek\r\n  ).length;\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center space-x-2\">\r\n            <MessageSquare className=\"w-5 h-5\" />\r\n            <span>Genel İstatistikler</span>\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-primary\">{totalConversations}</div>\r\n              <div className=\"text-sm text-muted-foreground\">Toplam Sohbet</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-2xl font-bold text-primary\">{totalMessages}</div>\r\n              <div className=\"text-sm text-muted-foreground\">Toplam Mesaj</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-xl font-semibold text-blue-600\">{userMessages}</div>\r\n              <div className=\"text-sm text-muted-foreground flex items-center justify-center\">\r\n                <User className=\"w-3 h-3 mr-1\" />\r\n                Kullanıcı Mesajları\r\n              </div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-xl font-semibold text-green-600\">{assistantMessages}</div>\r\n              <div className=\"text-sm text-muted-foreground flex items-center justify-center\">\r\n                <Bot className=\"w-3 h-3 mr-1\" />\r\n                AI Yanıtları\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center space-x-2\">\r\n            <Clock className=\"w-5 h-5\" />\r\n            <span>Aktivite İstatistikleri</span>\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <div className=\"text-center\">\r\n              <div className=\"text-xl font-semibold text-orange-600\">{recentMessages}</div>\r\n              <div className=\"text-sm text-muted-foreground\">Son 7 Gün</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className=\"text-xl font-semibold text-purple-600\">{avgMessageLength}</div>\r\n              <div className=\"text-sm text-muted-foreground\">Ort. Mesaj Uzunluğu</div>\r\n            </div>\r\n          </div>\r\n          \r\n          {mostActiveConversation && (\r\n            <div className=\"text-center\">\r\n              <div className=\"text-sm text-muted-foreground mb-1\">En Aktif Sohbet</div>\r\n              <div className=\"text-lg font-semibold truncate\" title={mostActiveConversation.title}>\r\n                {mostActiveConversation.title}\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                {mostActiveConversation.messageCount} mesaj\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatStats;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}