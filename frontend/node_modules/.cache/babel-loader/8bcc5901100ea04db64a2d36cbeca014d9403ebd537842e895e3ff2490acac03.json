{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import ChatList from'./ChatList';import ChatWindow from'./ChatWindow';import ThemeToggle from'./ThemeToggle';import{conversationService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatApp=()=>{const{conversationId}=useParams();const[conversations,setConversations]=useState([]);const[currentConversationId,setCurrentConversationId]=useState(conversationId||null);const[loading,setLoading]=useState(true);const[allMessages,setAllMessages]=useState([]);useEffect(()=>{loadConversations();},[]);useEffect(()=>{setCurrentConversationId(conversationId||null);},[conversationId]);const loadConversations=async()=>{try{const data=await conversationService.getConversations();setConversations(data);}catch(error){console.error('Sohbetler yüklenirken hata:',error);}finally{setLoading(false);}};const handleNewConversation=async()=>{try{const newConversation=await conversationService.createConversation();setConversations(prev=>[newConversation,...prev]);setCurrentConversationId(newConversation.id);await loadConversations();}catch(error){console.error('Yeni sohbet oluşturulurken hata:',error);}};const handleDeleteConversation=async id=>{try{await conversationService.deleteConversation(id);setConversations(prev=>prev.filter(conv=>conv.id!==id));if(currentConversationId===id){setCurrentConversationId(null);}}catch(error){console.error('Sohbet silinirken hata:',error);}};const handleSelectConversation=id=>{setCurrentConversationId(id);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:\"Y\\xFCkleniyor...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:flex sidebar\",children:/*#__PURE__*/_jsx(ChatList,{conversations:conversations,currentConversationId:currentConversationId,onDeleteConversation:handleDeleteConversation,onSelectConversation:handleSelectConversation,allMessages:allMessages})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden chat-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-sm\",children:\"AI\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"OstWindGroup AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:\"Ak\\u0131ll\\u0131 Asistan\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-600 dark:text-green-400 font-medium\",children:\"\\xC7evrimi\\xE7i\"})]}),/*#__PURE__*/_jsx(ThemeToggle,{})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:/*#__PURE__*/_jsx(ChatWindow,{conversationId:currentConversationId,onNewConversation:handleNewConversation,onMessagesUpdate:setAllMessages})})]})]});};export default ChatApp;","map":{"version":3,"names":["React","useState","useEffect","useParams","ChatList","ChatWindow","ThemeToggle","conversationService","jsx","_jsx","jsxs","_jsxs","ChatApp","conversationId","conversations","setConversations","currentConversationId","setCurrentConversationId","loading","setLoading","allMessages","setAllMessages","loadConversations","data","getConversations","error","console","handleNewConversation","newConversation","createConversation","prev","id","handleDeleteConversation","deleteConversation","filter","conv","handleSelectConversation","className","children","onDeleteConversation","onSelectConversation","onNewConversation","onMessagesUpdate"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/ChatApp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ChatList from './ChatList';\nimport ChatWindow from './ChatWindow';\nimport ThemeToggle from './ThemeToggle';\nimport { conversationService } from '../services/api';\n\nconst ChatApp = () => {\n  const { conversationId } = useParams();\n  const [conversations, setConversations] = useState([]);\n  const [currentConversationId, setCurrentConversationId] = useState(conversationId || null);\n  const [loading, setLoading] = useState(true);\n  const [allMessages, setAllMessages] = useState([]);\n\n  useEffect(() => {\n    loadConversations();\n  }, []);\n\n  useEffect(() => {\n    setCurrentConversationId(conversationId || null);\n  }, [conversationId]);\n\n  const loadConversations = async () => {\n    try {\n      const data = await conversationService.getConversations();\n      setConversations(data);\n    } catch (error) {\n      console.error('Sohbetler yüklenirken hata:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNewConversation = async () => {\n    try {\n      const newConversation = await conversationService.createConversation();\n      setConversations(prev => [newConversation, ...prev]);\n      setCurrentConversationId(newConversation.id);\n      await loadConversations();\n    } catch (error) {\n      console.error('Yeni sohbet oluşturulurken hata:', error);\n    }\n  };\n\n  const handleDeleteConversation = async (id) => {\n    try {\n      await conversationService.deleteConversation(id);\n      setConversations(prev => prev.filter(conv => conv.id !== id));\n      if (currentConversationId === id) {\n        setCurrentConversationId(null);\n      }\n    } catch (error) {\n      console.error('Sohbet silinirken hata:', error);\n    }\n  };\n\n  const handleSelectConversation = (id) => {\n    setCurrentConversationId(id);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-lg\">Yükleniyor...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-background\">\n      {/* Desktop Sidebar */}\n      <div className=\"hidden md:flex sidebar\">\n        <ChatList\n          conversations={conversations}\n          currentConversationId={currentConversationId}\n          onDeleteConversation={handleDeleteConversation}\n          onSelectConversation={handleSelectConversation}\n          allMessages={allMessages}\n        />\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"main-content\">\n        {/* Mobile Header */}\n        <div className=\"md:hidden chat-header\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center\">\n              <span className=\"text-white font-bold text-sm\">AI</span>\n            </div>\n            <div>\n              <h1 className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                OstWindGroup AI\n              </h1>\n              <p className=\"text-xs text-gray-500 dark:text-gray-400\">Akıllı Asistan</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded-full\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n              <span className=\"text-xs text-green-600 dark:text-green-400 font-medium\">Çevrimiçi</span>\n            </div>\n            <ThemeToggle />\n          </div>\n        </div>\n\n        <div className=\"flex-1 flex flex-col\">\n          <ChatWindow\n            conversationId={currentConversationId}\n            onNewConversation={handleNewConversation}\n            onMessagesUpdate={setAllMessages}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatApp;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,OAASC,mBAAmB,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,cAAe,CAAC,CAAGV,SAAS,CAAC,CAAC,CACtC,KAAM,CAACW,aAAa,CAAEC,gBAAgB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACe,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGhB,QAAQ,CAACY,cAAc,EAAI,IAAI,CAAC,CAC1F,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACmB,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACdoB,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAENpB,SAAS,CAAC,IAAM,CACde,wBAAwB,CAACJ,cAAc,EAAI,IAAI,CAAC,CAClD,CAAC,CAAE,CAACA,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAS,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAhB,mBAAmB,CAACiB,gBAAgB,CAAC,CAAC,CACzDT,gBAAgB,CAACQ,IAAI,CAAC,CACxB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAQ,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAArB,mBAAmB,CAACsB,kBAAkB,CAAC,CAAC,CACtEd,gBAAgB,CAACe,IAAI,EAAI,CAACF,eAAe,CAAE,GAAGE,IAAI,CAAC,CAAC,CACpDb,wBAAwB,CAACW,eAAe,CAACG,EAAE,CAAC,CAC5C,KAAM,CAAAT,iBAAiB,CAAC,CAAC,CAC3B,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC1D,CACF,CAAC,CAED,KAAM,CAAAO,wBAAwB,CAAG,KAAO,CAAAD,EAAE,EAAK,CAC7C,GAAI,CACF,KAAM,CAAAxB,mBAAmB,CAAC0B,kBAAkB,CAACF,EAAE,CAAC,CAChDhB,gBAAgB,CAACe,IAAI,EAAIA,IAAI,CAACI,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAC,CAAC,CAC7D,GAAIf,qBAAqB,GAAKe,EAAE,CAAE,CAChCd,wBAAwB,CAAC,IAAI,CAAC,CAChC,CACF,CAAE,MAAOQ,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAW,wBAAwB,CAAIL,EAAE,EAAK,CACvCd,wBAAwB,CAACc,EAAE,CAAC,CAC9B,CAAC,CAED,GAAIb,OAAO,CAAE,CACX,mBACET,IAAA,QAAK4B,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxD7B,IAAA,QAAK4B,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,kBAAa,CAAK,CAAC,CACzC,CAAC,CAEV,CAEA,mBACE3B,KAAA,QAAK0B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAE1C7B,IAAA,QAAK4B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrC7B,IAAA,CAACL,QAAQ,EACPU,aAAa,CAAEA,aAAc,CAC7BE,qBAAqB,CAAEA,qBAAsB,CAC7CuB,oBAAoB,CAAEP,wBAAyB,CAC/CQ,oBAAoB,CAAEJ,wBAAyB,CAC/ChB,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACC,CAAC,cAGNT,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAE3B3B,KAAA,QAAK0B,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC3B,KAAA,QAAK0B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C7B,IAAA,QAAK4B,SAAS,CAAC,mGAAmG,CAAAC,QAAA,cAChH7B,IAAA,SAAM4B,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,CACrD,CAAC,cACN3B,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAI4B,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAC,iBAEpE,CAAI,CAAC,cACL7B,IAAA,MAAG4B,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,0BAAc,CAAG,CAAC,EACvE,CAAC,EACH,CAAC,cACN3B,KAAA,QAAK0B,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C3B,KAAA,QAAK0B,SAAS,CAAC,sFAAsF,CAAAC,QAAA,eACnG7B,IAAA,QAAK4B,SAAS,CAAC,iDAAiD,CAAM,CAAC,cACvE5B,IAAA,SAAM4B,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAAC,iBAAS,CAAM,CAAC,EACtF,CAAC,cACN7B,IAAA,CAACH,WAAW,GAAE,CAAC,EACZ,CAAC,EACH,CAAC,cAENG,IAAA,QAAK4B,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACnC7B,IAAA,CAACJ,UAAU,EACTQ,cAAc,CAAEG,qBAAsB,CACtCyB,iBAAiB,CAAEd,qBAAsB,CACzCe,gBAAgB,CAAErB,cAAe,CAClC,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAT,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}