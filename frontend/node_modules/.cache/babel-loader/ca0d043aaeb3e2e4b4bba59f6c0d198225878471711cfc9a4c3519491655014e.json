{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import ChatList from'./ChatList';import ChatWindow from'./ChatWindow';import MobileNavigation from'./MobileNavigation';import Footer from'./Footer';import{conversationService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatApp=()=>{const{conversationId}=useParams();const[conversations,setConversations]=useState([]);const[currentConversationId,setCurrentConversationId]=useState(conversationId||null);const[loading,setLoading]=useState(true);const[allMessages,setAllMessages]=useState([]);const[showStats,setShowStats]=useState(false);const[showAnalytics,setShowAnalytics]=useState(false);const[showExport,setShowExport]=useState(false);const[showGames,setShowGames]=useState(false);useEffect(()=>{loadConversations();},[]);useEffect(()=>{setCurrentConversationId(conversationId||null);},[conversationId]);const loadConversations=async()=>{try{const data=await conversationService.getConversations();setConversations(data);}catch(error){console.error('Sohbetler yüklenirken hata:',error);}finally{setLoading(false);}};const handleNewConversation=async()=>{try{const newConversation=await conversationService.createConversation();setConversations(prev=>[newConversation,...prev]);setCurrentConversationId(newConversation.id);// Reload conversations to get updated list\nawait loadConversations();}catch(error){console.error('Yeni sohbet oluşturulurken hata:',error);}};const handleDeleteConversation=async id=>{try{await conversationService.deleteConversation(id);setConversations(prev=>prev.filter(conv=>conv.id!==id));if(currentConversationId===id){setCurrentConversationId(null);}}catch(error){console.error('Sohbet silinirken hata:',error);}};const handleSelectConversation=id=>{setCurrentConversationId(id);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:\"Y\\xFCkleniyor...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block w-80 glass-card border-r border-white/20 animate-slide-in-left\",children:/*#__PURE__*/_jsx(ChatList,{conversations:conversations,currentConversationId:currentConversationId,onDeleteConversation:handleDeleteConversation,onSelectConversation:handleSelectConversation,allMessages:allMessages})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden flex items-center justify-between p-4 glass-card border-b border-white/20 animate-fade-in-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-glow animate-float\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-lg\",children:\"AI\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent\",children:\"OstWindGroup AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-600 dark:text-slate-400\",children:\"Ak\\u0131ll\\u0131 Asistan\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-600 dark:text-green-400 font-medium\",children:\"\\xC7evrimi\\xE7i\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col md:pb-0 pb-32 footer-padding\",children:/*#__PURE__*/_jsx(ChatWindow,{conversationId:currentConversationId,onNewConversation:handleNewConversation,onMessagesUpdate:setAllMessages})})]}),/*#__PURE__*/_jsx(Footer,{onNewConversation:handleNewConversation,onToggleStats:()=>setShowStats(!showStats),onToggleAnalytics:()=>setShowAnalytics(!showAnalytics),onToggleExport:()=>setShowExport(!showExport),onToggleGames:()=>setShowGames(!showGames),showStats:showStats,showAnalytics:showAnalytics,showExport:showExport,showGames:showGames})]});};export default ChatApp;","map":{"version":3,"names":["React","useState","useEffect","useParams","ChatList","ChatWindow","MobileNavigation","Footer","conversationService","jsx","_jsx","jsxs","_jsxs","ChatApp","conversationId","conversations","setConversations","currentConversationId","setCurrentConversationId","loading","setLoading","allMessages","setAllMessages","showStats","setShowStats","showAnalytics","setShowAnalytics","showExport","setShowExport","showGames","setShowGames","loadConversations","data","getConversations","error","console","handleNewConversation","newConversation","createConversation","prev","id","handleDeleteConversation","deleteConversation","filter","conv","handleSelectConversation","className","children","onDeleteConversation","onSelectConversation","onNewConversation","onMessagesUpdate","onToggleStats","onToggleAnalytics","onToggleExport","onToggleGames"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/ChatApp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ChatList from './ChatList';\nimport ChatWindow from './ChatWindow';\nimport MobileNavigation from './MobileNavigation';\nimport Footer from './Footer';\nimport { conversationService } from '../services/api';\n\nconst ChatApp = () => {\n  const { conversationId } = useParams();\n  const [conversations, setConversations] = useState([]);\n  const [currentConversationId, setCurrentConversationId] = useState(conversationId || null);\n  const [loading, setLoading] = useState(true);\n  const [allMessages, setAllMessages] = useState([]);\n  const [showStats, setShowStats] = useState(false);\n  const [showAnalytics, setShowAnalytics] = useState(false);\n  const [showExport, setShowExport] = useState(false);\n  const [showGames, setShowGames] = useState(false);\n\n  useEffect(() => {\n    loadConversations();\n  }, []);\n\n  useEffect(() => {\n    setCurrentConversationId(conversationId || null);\n  }, [conversationId]);\n\n  const loadConversations = async () => {\n    try {\n      const data = await conversationService.getConversations();\n      setConversations(data);\n    } catch (error) {\n      console.error('Sohbetler yüklenirken hata:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNewConversation = async () => {\n    try {\n      const newConversation = await conversationService.createConversation();\n      setConversations(prev => [newConversation, ...prev]);\n      setCurrentConversationId(newConversation.id);\n      // Reload conversations to get updated list\n      await loadConversations();\n    } catch (error) {\n      console.error('Yeni sohbet oluşturulurken hata:', error);\n    }\n  };\n\n  const handleDeleteConversation = async (id) => {\n    try {\n      await conversationService.deleteConversation(id);\n      setConversations(prev => prev.filter(conv => conv.id !== id));\n      if (currentConversationId === id) {\n        setCurrentConversationId(null);\n      }\n    } catch (error) {\n      console.error('Sohbet silinirken hata:', error);\n    }\n  };\n\n  const handleSelectConversation = (id) => {\n    setCurrentConversationId(id);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-lg\">Yükleniyor...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 overflow-hidden\">\n      {/* Desktop Sidebar */}\n      <div className=\"hidden md:block w-80 glass-card border-r border-white/20 animate-slide-in-left\">\n        <ChatList\n          conversations={conversations}\n          currentConversationId={currentConversationId}\n          onDeleteConversation={handleDeleteConversation}\n          onSelectConversation={handleSelectConversation}\n          allMessages={allMessages}\n        />\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"flex-1 flex flex-col relative\">\n        {/* Mobile Header */}\n        <div className=\"md:hidden flex items-center justify-between p-4 glass-card border-b border-white/20 animate-fade-in-up\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-glow animate-float\">\n              <span className=\"text-white font-bold text-lg\">AI</span>\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent\">\n                OstWindGroup AI\n              </h1>\n              <p className=\"text-xs text-slate-600 dark:text-slate-400\">Akıllı Asistan</p>\n            </div>\n          </div>\n          <div className=\"flex items-center space-x-2 px-3 py-1 bg-green-100 dark:bg-green-900/30 rounded-full\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n            <span className=\"text-xs text-green-600 dark:text-green-400 font-medium\">Çevrimiçi</span>\n          </div>\n        </div>\n\n        <div className=\"flex-1 flex flex-col md:pb-0 pb-32 footer-padding\">\n          <ChatWindow\n            conversationId={currentConversationId}\n            onNewConversation={handleNewConversation}\n            onMessagesUpdate={setAllMessages}\n          />\n        </div>\n      </div>\n\n      {/* Footer */}\n      <Footer\n        onNewConversation={handleNewConversation}\n        onToggleStats={() => setShowStats(!showStats)}\n        onToggleAnalytics={() => setShowAnalytics(!showAnalytics)}\n        onToggleExport={() => setShowExport(!showExport)}\n        onToggleGames={() => setShowGames(!showGames)}\n        showStats={showStats}\n        showAnalytics={showAnalytics}\n        showExport={showExport}\n        showGames={showGames}\n      />\n    </div>\n  );\n};\n\nexport default ChatApp;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CACjD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,OAASC,mBAAmB,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,cAAe,CAAC,CAAGX,SAAS,CAAC,CAAC,CACtC,KAAM,CAACY,aAAa,CAAEC,gBAAgB,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACgB,qBAAqB,CAAEC,wBAAwB,CAAC,CAAGjB,QAAQ,CAACa,cAAc,EAAI,IAAI,CAAC,CAC1F,KAAM,CAACK,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACsB,SAAS,CAAEC,YAAY,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAACwB,aAAa,CAAEC,gBAAgB,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAAC0B,UAAU,CAAEC,aAAa,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAAC4B,SAAS,CAAEC,YAAY,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CAEjDC,SAAS,CAAC,IAAM,CACd6B,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN7B,SAAS,CAAC,IAAM,CACdgB,wBAAwB,CAACJ,cAAc,EAAI,IAAI,CAAC,CAClD,CAAC,CAAE,CAACA,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAiB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAxB,mBAAmB,CAACyB,gBAAgB,CAAC,CAAC,CACzDjB,gBAAgB,CAACgB,IAAI,CAAC,CACxB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,OAAS,CACRd,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAgB,qBAAqB,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAC,eAAe,CAAG,KAAM,CAAA7B,mBAAmB,CAAC8B,kBAAkB,CAAC,CAAC,CACtEtB,gBAAgB,CAACuB,IAAI,EAAI,CAACF,eAAe,CAAE,GAAGE,IAAI,CAAC,CAAC,CACpDrB,wBAAwB,CAACmB,eAAe,CAACG,EAAE,CAAC,CAC5C;AACA,KAAM,CAAAT,iBAAiB,CAAC,CAAC,CAC3B,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC1D,CACF,CAAC,CAED,KAAM,CAAAO,wBAAwB,CAAG,KAAO,CAAAD,EAAE,EAAK,CAC7C,GAAI,CACF,KAAM,CAAAhC,mBAAmB,CAACkC,kBAAkB,CAACF,EAAE,CAAC,CAChDxB,gBAAgB,CAACuB,IAAI,EAAIA,IAAI,CAACI,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACJ,EAAE,GAAKA,EAAE,CAAC,CAAC,CAC7D,GAAIvB,qBAAqB,GAAKuB,EAAE,CAAE,CAChCtB,wBAAwB,CAAC,IAAI,CAAC,CAChC,CACF,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAAW,wBAAwB,CAAIL,EAAE,EAAK,CACvCtB,wBAAwB,CAACsB,EAAE,CAAC,CAC9B,CAAC,CAED,GAAIrB,OAAO,CAAE,CACX,mBACET,IAAA,QAAKoC,SAAS,CAAC,2CAA2C,CAAAC,QAAA,cACxDrC,IAAA,QAAKoC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,kBAAa,CAAK,CAAC,CACzC,CAAC,CAEV,CAEA,mBACEnC,KAAA,QAAKkC,SAAS,CAAC,kJAAkJ,CAAAC,QAAA,eAE/JrC,IAAA,QAAKoC,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FrC,IAAA,CAACN,QAAQ,EACPW,aAAa,CAAEA,aAAc,CAC7BE,qBAAqB,CAAEA,qBAAsB,CAC7C+B,oBAAoB,CAAEP,wBAAyB,CAC/CQ,oBAAoB,CAAEJ,wBAAyB,CAC/CxB,WAAW,CAAEA,WAAY,CAC1B,CAAC,CACC,CAAC,cAGNT,KAAA,QAAKkC,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAE5CnC,KAAA,QAAKkC,SAAS,CAAC,wGAAwG,CAAAC,QAAA,eACrHnC,KAAA,QAAKkC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CrC,IAAA,QAAKoC,SAAS,CAAC,+HAA+H,CAAAC,QAAA,cAC5IrC,IAAA,SAAMoC,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,IAAE,CAAM,CAAC,CACrD,CAAC,cACNnC,KAAA,QAAAmC,QAAA,eACErC,IAAA,OAAIoC,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CAAC,iBAE7G,CAAI,CAAC,cACLrC,IAAA,MAAGoC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAAC,0BAAc,CAAG,CAAC,EACzE,CAAC,EACH,CAAC,cACNnC,KAAA,QAAKkC,SAAS,CAAC,sFAAsF,CAAAC,QAAA,eACnGrC,IAAA,QAAKoC,SAAS,CAAC,iDAAiD,CAAM,CAAC,cACvEpC,IAAA,SAAMoC,SAAS,CAAC,wDAAwD,CAAAC,QAAA,CAAC,iBAAS,CAAM,CAAC,EACtF,CAAC,EACH,CAAC,cAENrC,IAAA,QAAKoC,SAAS,CAAC,mDAAmD,CAAAC,QAAA,cAChErC,IAAA,CAACL,UAAU,EACTS,cAAc,CAAEG,qBAAsB,CACtCiC,iBAAiB,CAAEd,qBAAsB,CACzCe,gBAAgB,CAAE7B,cAAe,CAClC,CAAC,CACC,CAAC,EACH,CAAC,cAGNZ,IAAA,CAACH,MAAM,EACL2C,iBAAiB,CAAEd,qBAAsB,CACzCgB,aAAa,CAAEA,CAAA,GAAM5B,YAAY,CAAC,CAACD,SAAS,CAAE,CAC9C8B,iBAAiB,CAAEA,CAAA,GAAM3B,gBAAgB,CAAC,CAACD,aAAa,CAAE,CAC1D6B,cAAc,CAAEA,CAAA,GAAM1B,aAAa,CAAC,CAACD,UAAU,CAAE,CACjD4B,aAAa,CAAEA,CAAA,GAAMzB,YAAY,CAAC,CAACD,SAAS,CAAE,CAC9CN,SAAS,CAAEA,SAAU,CACrBE,aAAa,CAAEA,aAAc,CAC7BE,UAAU,CAAEA,UAAW,CACvBE,SAAS,CAAEA,SAAU,CACtB,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAhB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}