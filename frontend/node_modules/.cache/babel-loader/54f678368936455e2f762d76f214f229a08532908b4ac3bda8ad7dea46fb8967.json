{"ast":null,"code":"import React,{useState,useRef}from'react';import{Button}from'./ui/Button';import{Card,CardContent}from'./ui/Card';import{Paperclip,File,Image,FileText,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FileUploadButton=_ref=>{let{onFileSelect,disabled}=_ref;const[dragOver,setDragOver]=useState(false);const fileInputRef=useRef(null);const handleFileSelect=files=>{if(files&&files.length>0){const file=files[0];onFileSelect(file);}};const handleDragOver=e=>{e.preventDefault();setDragOver(true);};const handleDragLeave=e=>{e.preventDefault();setDragOver(false);};const handleDrop=e=>{e.preventDefault();setDragOver(false);handleFileSelect(e.dataTransfer.files);};const getFileIcon=file=>{if(file.type.startsWith('image/'))return/*#__PURE__*/_jsx(Image,{className:\"w-4 h-4\"});if(file.type.includes('text'))return/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4\"});return/*#__PURE__*/_jsx(File,{className:\"w-4 h-4\"});};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"ghost\",size:\"icon\",className:\"h-7 w-7 hover:bg-primary/10 hover:text-primary transition-all duration-200 rounded-full\",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:disabled,children:/*#__PURE__*/_jsx(Paperclip,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",className:\"hidden\",onChange:e=>handleFileSelect(e.target.files),accept:\"image/*,.txt,.pdf,.doc,.docx\"})]});};const FilePreview=_ref2=>{let{file,onRemove}=_ref2;const getFileIcon=file=>{if(file.type.startsWith('image/'))return/*#__PURE__*/_jsx(Image,{className:\"w-4 h-4\"});if(file.type.includes('text'))return/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4\"});return/*#__PURE__*/_jsx(File,{className:\"w-4 h-4\"});};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};return/*#__PURE__*/_jsx(Card,{className:\"mb-2 bg-background/80 backdrop-blur-sm border-border/50 shadow-sm\",children:/*#__PURE__*/_jsx(CardContent,{className:\"p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center\",children:getFileIcon(file)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium truncate text-foreground\",children:file.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground\",children:formatFileSize(file.size)})]}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",className:\"h-7 w-7 hover:bg-destructive/10 hover:text-destructive transition-all duration-200 rounded-full\",onClick:onRemove,children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})})});};export{FileUploadButton,FilePreview};","map":{"version":3,"names":["React","useState","useRef","Button","Card","CardContent","Paperclip","File","Image","FileText","X","jsx","_jsx","jsxs","_jsxs","FileUploadButton","_ref","onFileSelect","disabled","dragOver","setDragOver","fileInputRef","handleFileSelect","files","length","file","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","dataTransfer","getFileIcon","type","startsWith","className","includes","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","children","variant","size","onClick","_fileInputRef$current","current","click","ref","onChange","target","accept","FilePreview","_ref2","onRemove","name"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/FileUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Button } from './ui/Button';\nimport { Card, CardContent } from './ui/Card';\nimport { Paperclip, File, Image, FileText, X } from 'lucide-react';\n\nconst FileUploadButton = ({ onFileSelect, disabled }) => {\n  const [dragOver, setDragOver] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const handleFileSelect = (files) => {\n    if (files && files.length > 0) {\n      const file = files[0];\n      onFileSelect(file);\n    }\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setDragOver(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setDragOver(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setDragOver(false);\n    handleFileSelect(e.dataTransfer.files);\n  };\n\n  const getFileIcon = (file) => {\n    if (file.type.startsWith('image/')) return <Image className=\"w-4 h-4\" />;\n    if (file.type.includes('text')) return <FileText className=\"w-4 h-4\" />;\n    return <File className=\"w-4 h-4\" />;\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"relative\">\n      <Button\n        type=\"button\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"h-7 w-7 hover:bg-primary/10 hover:text-primary transition-all duration-200 rounded-full\"\n        onClick={() => fileInputRef.current?.click()}\n        disabled={disabled}\n      >\n        <Paperclip className=\"w-4 h-4\" />\n      </Button>\n      \n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        className=\"hidden\"\n        onChange={(e) => handleFileSelect(e.target.files)}\n        accept=\"image/*,.txt,.pdf,.doc,.docx\"\n      />\n    </div>\n  );\n};\n\nconst FilePreview = ({ file, onRemove }) => {\n  const getFileIcon = (file) => {\n    if (file.type.startsWith('image/')) return <Image className=\"w-4 h-4\" />;\n    if (file.type.includes('text')) return <FileText className=\"w-4 h-4\" />;\n    return <File className=\"w-4 h-4\" />;\n  };\n\n  const formatFileSize = (bytes) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  return (\n    <Card className=\"mb-2 bg-background/80 backdrop-blur-sm border-border/50 shadow-sm\">\n      <CardContent className=\"p-3\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"flex-shrink-0 w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center\">\n            {getFileIcon(file)}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium truncate text-foreground\">{file.name}</p>\n            <p className=\"text-xs text-muted-foreground\">{formatFileSize(file.size)}</p>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-7 w-7 hover:bg-destructive/10 hover:text-destructive transition-all duration-200 rounded-full\"\n            onClick={onRemove}\n          >\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport { FileUploadButton, FilePreview };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}