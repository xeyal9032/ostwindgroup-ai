{"ast":null,"code":"import React,{useState}from'react';import{Bot,User,Copy,Check,Edit2,Save,X}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Message=_ref=>{let{message,time,onEdit}=_ref;const isUser=message.role==='user';const[copied,setCopied]=useState(false);const[isEditing,setIsEditing]=useState(false);const[editContent,setEditContent]=useState(message.content);const handleCopy=async()=>{try{await navigator.clipboard.writeText(message.content);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(err){console.error('Kopyalama hatası:',err);}};const handleEdit=()=>{setIsEditing(true);setEditContent(message.content);};const handleSave=()=>{if(editContent.trim()&&onEdit){onEdit(message.id,editContent.trim());}setIsEditing(false);};const handleCancel=()=>{setIsEditing(false);setEditContent(message.content);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 \".concat(isUser?'flex-row-reverse space-x-reverse':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center \".concat(isUser?'bg-primary text-primary-foreground':'bg-muted text-muted-foreground'),children:isUser?/*#__PURE__*/_jsx(User,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0 \".concat(isUser?'text-right':'text-left'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"group relative\",children:isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble bg-card border border-border\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:editContent,onChange:e=>setEditContent(e.target.value),className:\"w-full mb-3 text-sm bg-transparent border-none outline-none resize-none text-foreground\",rows:3,autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSave,className:\"modern-button-primary text-xs px-3 py-1\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-3 h-3 mr-1\"}),\"Kaydet\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleCancel,className:\"modern-button-secondary text-xs px-3 py-1\",children:[/*#__PURE__*/_jsx(X,{className:\"w-3 h-3 mr-1\"}),\"\\u0130ptal\"]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-bubble \".concat(isUser?'message-user':'message-assistant'),children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm leading-relaxed whitespace-pre-wrap\",children:message.content})}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-1 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1 \".concat(isUser?'left-1':'right-1'),children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"action-button\",children:copied?/*#__PURE__*/_jsx(Check,{className:\"w-3 h-3 text-green-500\"}):/*#__PURE__*/_jsx(Copy,{className:\"w-3 h-3\"})}),isUser&&onEdit&&/*#__PURE__*/_jsx(\"button\",{onClick:handleEdit,className:\"action-button\",children:/*#__PURE__*/_jsx(Edit2,{className:\"w-3 h-3\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-muted-foreground mt-1 \".concat(isUser?'text-right':'text-left'),children:time})]})]});};export default Message;","map":{"version":3,"names":["React","useState","Bot","User","Copy","Check","Edit2","Save","X","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Message","_ref","message","time","onEdit","isUser","role","copied","setCopied","isEditing","setIsEditing","editContent","setEditContent","content","handleCopy","navigator","clipboard","writeText","setTimeout","err","console","error","handleEdit","handleSave","trim","id","handleCancel","className","concat","children","value","onChange","e","target","rows","autoFocus","onClick"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/Message.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Bot, User, Copy, Check, Edit2, Save, X } from 'lucide-react';\n\nconst Message = ({ message, time, onEdit }) => {\n  const isUser = message.role === 'user';\n  const [copied, setCopied] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editContent, setEditContent] = useState(message.content);\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(message.content);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Kopyalama hatası:', err);\n    }\n  };\n\n  const handleEdit = () => {\n    setIsEditing(true);\n    setEditContent(message.content);\n  };\n\n  const handleSave = () => {\n    if (editContent.trim() && onEdit) {\n      onEdit(message.id, editContent.trim());\n    }\n    setIsEditing(false);\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n    setEditContent(message.content);\n  };\n\n  return (\n    <div className={`flex items-start space-x-3 ${isUser ? 'flex-row-reverse space-x-reverse' : ''}`}>\n      {/* Avatar */}\n      <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${\n        isUser ? 'bg-primary text-primary-foreground' : 'bg-muted text-muted-foreground'\n      }`}>\n        {isUser ? (\n          <User className=\"w-4 h-4\" />\n        ) : (\n          <Bot className=\"w-4 h-4\" />\n        )}\n      </div>\n\n      {/* Message Content */}\n      <div className={`flex-1 min-w-0 ${isUser ? 'text-right' : 'text-left'}`}>\n        <div className=\"group relative\">\n          {isEditing ? (\n            <div className=\"message-bubble bg-card border border-border\">\n              <textarea\n                value={editContent}\n                onChange={(e) => setEditContent(e.target.value)}\n                className=\"w-full mb-3 text-sm bg-transparent border-none outline-none resize-none text-foreground\"\n                rows={3}\n                autoFocus\n              />\n              <div className=\"flex space-x-2\">\n                <button \n                  onClick={handleSave} \n                  className=\"modern-button-primary text-xs px-3 py-1\"\n                >\n                  <Save className=\"w-3 h-3 mr-1\" />\n                  Kaydet\n                </button>\n                <button \n                  onClick={handleCancel} \n                  className=\"modern-button-secondary text-xs px-3 py-1\"\n                >\n                  <X className=\"w-3 h-3 mr-1\" />\n                  İptal\n                </button>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className={`message-bubble ${isUser ? 'message-user' : 'message-assistant'}`}>\n                <div className=\"text-sm leading-relaxed whitespace-pre-wrap\">\n                  {message.content}\n                </div>\n              </div>\n\n              {/* Action Buttons */}\n              <div className={`absolute top-1 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1 ${\n                isUser ? 'left-1' : 'right-1'\n              }`}>\n                <button \n                  onClick={handleCopy} \n                  className=\"action-button\"\n                >\n                  {copied ? (\n                    <Check className=\"w-3 h-3 text-green-500\" />\n                  ) : (\n                    <Copy className=\"w-3 h-3\" />\n                  )}\n                </button>\n                {isUser && onEdit && (\n                  <button \n                    onClick={handleEdit} \n                    className=\"action-button\"\n                  >\n                    <Edit2 className=\"w-3 h-3\" />\n                  </button>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n\n        {/* Time */}\n        <div className={`text-xs text-muted-foreground mt-1 ${isUser ? 'text-right' : 'text-left'}`}>\n          {time}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}