{"ast":null,"code":"import React,{useState}from'react';import{Card,CardContent}from'./ui/Card';import{Button}from'./ui/Button';import{Input}from'./ui/Input';import{Bot,User,Copy,Check,Edit2,Save,X}from'lucide-react';import{cn}from'../lib/utils';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Message=_ref=>{let{message,time,onEdit}=_ref;const isUser=message.role==='user';const[copied,setCopied]=useState(false);const[isEditing,setIsEditing]=useState(false);const[editContent,setEditContent]=useState(message.content);const handleCopy=async()=>{try{await navigator.clipboard.writeText(message.content);setCopied(true);setTimeout(()=>setCopied(false),2000);}catch(err){console.error('Kopyalama başarısız:',err);}};const handleEdit=()=>{setIsEditing(true);setEditContent(message.content);};const handleSave=()=>{if(onEdit&&editContent.trim()){onEdit(message.id,editContent.trim());setIsEditing(false);}};const handleCancel=()=>{setIsEditing(false);setEditContent(message.content);};return/*#__PURE__*/_jsxs(\"div\",{className:cn(\"flex items-start space-x-3\",isUser&&\"flex-row-reverse space-x-reverse\"),children:[/*#__PURE__*/_jsx(\"div\",{className:cn(\"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center\",isUser?\"bg-primary text-primary-foreground\":\"bg-muted text-muted-foreground\"),children:isUser?/*#__PURE__*/_jsx(User,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:cn(\"flex-1 min-w-0\",isUser&&\"flex flex-col items-end\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"group relative\",children:isEditing?/*#__PURE__*/_jsx(Card,{className:cn(\"max-w-[80%]\",isUser?\"bg-primary text-primary-foreground\":\"bg-muted\"),children:/*#__PURE__*/_jsxs(CardContent,{className:\"p-3\",children:[/*#__PURE__*/_jsx(Input,{value:editContent,onChange:e=>setEditContent(e.target.value),className:\"mb-2\",autoFocus:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(Button,{size:\"sm\",onClick:handleSave,children:[/*#__PURE__*/_jsx(Save,{className:\"w-3 h-3 mr-1\"}),\"Kaydet\"]}),/*#__PURE__*/_jsxs(Button,{size:\"sm\",variant:\"outline\",onClick:handleCancel,children:[/*#__PURE__*/_jsx(X,{className:\"w-3 h-3 mr-1\"}),\"\\u0130ptal\"]})]})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{className:cn(\"max-w-[80%] shadow-sm\",isUser?\"bg-primary text-primary-foreground border-primary/20\":\"bg-background/80 backdrop-blur-sm border-border/50\"),children:/*#__PURE__*/_jsx(CardContent,{className:\"p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap break-words leading-relaxed\",children:message.content})})}),/*#__PURE__*/_jsxs(\"div\",{className:cn(\"absolute top-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1\",isUser?\"left-2\":\"right-2\"),children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",className:\"h-6 w-6\",onClick:handleCopy,children:copied?/*#__PURE__*/_jsx(Check,{className:\"w-3 h-3\"}):/*#__PURE__*/_jsx(Copy,{className:\"w-3 h-3\"})}),isUser&&onEdit&&/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",className:\"h-6 w-6\",onClick:handleEdit,children:/*#__PURE__*/_jsx(Edit2,{className:\"w-3 h-3\"})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:cn(\"text-xs text-muted-foreground mt-1\",isUser&&\"text-right\"),children:time})]})]});};export default Message;","map":{"version":3,"names":["React","useState","Card","CardContent","Button","Input","Bot","User","Copy","Check","Edit2","Save","X","cn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Message","_ref","message","time","onEdit","isUser","role","copied","setCopied","isEditing","setIsEditing","editContent","setEditContent","content","handleCopy","navigator","clipboard","writeText","setTimeout","err","console","error","handleEdit","handleSave","trim","id","handleCancel","className","children","value","onChange","e","target","autoFocus","size","onClick","variant"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/Message.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent } from './ui/Card';\nimport { Button } from './ui/Button';\nimport { Input } from './ui/Input';\nimport { Bot, User, Copy, Check, Edit2, Save, X } from 'lucide-react';\nimport { cn } from '../lib/utils';\n\nconst Message = ({ message, time, onEdit }) => {\n  const isUser = message.role === 'user';\n  const [copied, setCopied] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editContent, setEditContent] = useState(message.content);\n\n  const handleCopy = async () => {\n    try {\n      await navigator.clipboard.writeText(message.content);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Kopyalama başarısız:', err);\n    }\n  };\n\n  const handleEdit = () => {\n    setIsEditing(true);\n    setEditContent(message.content);\n  };\n\n  const handleSave = () => {\n    if (onEdit && editContent.trim()) {\n      onEdit(message.id, editContent.trim());\n      setIsEditing(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n    setEditContent(message.content);\n  };\n\n  return (\n    <div className={cn(\n      \"flex items-start space-x-3\",\n      isUser && \"flex-row-reverse space-x-reverse\"\n    )}>\n      {/* Avatar */}\n      <div className={cn(\n        \"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center\",\n        isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground\"\n      )}>\n        {isUser ? (\n          <User className=\"w-4 h-4\" />\n        ) : (\n          <Bot className=\"w-4 h-4\" />\n        )}\n      </div>\n\n      {/* Message Content */}\n      <div className={cn(\n        \"flex-1 min-w-0\",\n        isUser && \"flex flex-col items-end\"\n      )}>\n        <div className=\"group relative\">\n          {isEditing ? (\n            <Card className={cn(\n              \"max-w-[80%]\",\n              isUser ? \"bg-primary text-primary-foreground\" : \"bg-muted\"\n            )}>\n              <CardContent className=\"p-3\">\n                <Input\n                  value={editContent}\n                  onChange={(e) => setEditContent(e.target.value)}\n                  className=\"mb-2\"\n                  autoFocus\n                />\n                <div className=\"flex space-x-2\">\n                  <Button size=\"sm\" onClick={handleSave}>\n                    <Save className=\"w-3 h-3 mr-1\" />\n                    Kaydet\n                  </Button>\n                  <Button size=\"sm\" variant=\"outline\" onClick={handleCancel}>\n                    <X className=\"w-3 h-3 mr-1\" />\n                    İptal\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n          ) : (\n            <>\n              <Card className={cn(\n                \"max-w-[80%] shadow-sm\",\n                isUser \n                  ? \"bg-primary text-primary-foreground border-primary/20\" \n                  : \"bg-background/80 backdrop-blur-sm border-border/50\"\n              )}>\n                <CardContent className=\"p-4\">\n                  <div className=\"whitespace-pre-wrap break-words leading-relaxed\">\n                    {message.content}\n                  </div>\n                </CardContent>\n              </Card>\n              \n              {/* Action Buttons */}\n              <div className={cn(\n                \"absolute top-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1\",\n                isUser ? \"left-2\" : \"right-2\"\n              )}>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-6 w-6\"\n                  onClick={handleCopy}\n                >\n                  {copied ? (\n                    <Check className=\"w-3 h-3\" />\n                  ) : (\n                    <Copy className=\"w-3 h-3\" />\n                  )}\n                </Button>\n                {isUser && onEdit && (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"icon\"\n                    className=\"h-6 w-6\"\n                    onClick={handleEdit}\n                  >\n                    <Edit2 className=\"w-3 h-3\" />\n                  </Button>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n        \n        {/* Time */}\n        <div className={cn(\n          \"text-xs text-muted-foreground mt-1\",\n          isUser && \"text-right\"\n        )}>\n          {time}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Message;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,WAAW,CAC7C,OAASC,MAAM,KAAQ,aAAa,CACpC,OAASC,KAAK,KAAQ,YAAY,CAClC,OAASC,GAAG,CAAEC,IAAI,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAK,CAAEC,IAAI,CAAEC,CAAC,KAAQ,cAAc,CACrE,OAASC,EAAE,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAElC,KAAM,CAAAC,OAAO,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,OAAO,CAAEC,IAAI,CAAEC,MAAO,CAAC,CAAAH,IAAA,CACxC,KAAM,CAAAI,MAAM,CAAGH,OAAO,CAACI,IAAI,GAAK,MAAM,CACtC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAAC4B,SAAS,CAAEC,YAAY,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC8B,WAAW,CAAEC,cAAc,CAAC,CAAG/B,QAAQ,CAACqB,OAAO,CAACW,OAAO,CAAC,CAE/D,KAAM,CAAAC,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,SAAS,CAACC,SAAS,CAACC,SAAS,CAACf,OAAO,CAACW,OAAO,CAAC,CACpDL,SAAS,CAAC,IAAI,CAAC,CACfU,UAAU,CAAC,IAAMV,SAAS,CAAC,KAAK,CAAC,CAAE,IAAI,CAAC,CAC1C,CAAE,MAAOW,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEF,GAAG,CAAC,CAC5C,CACF,CAAC,CAED,KAAM,CAAAG,UAAU,CAAGA,CAAA,GAAM,CACvBZ,YAAY,CAAC,IAAI,CAAC,CAClBE,cAAc,CAACV,OAAO,CAACW,OAAO,CAAC,CACjC,CAAC,CAED,KAAM,CAAAU,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAInB,MAAM,EAAIO,WAAW,CAACa,IAAI,CAAC,CAAC,CAAE,CAChCpB,MAAM,CAACF,OAAO,CAACuB,EAAE,CAAEd,WAAW,CAACa,IAAI,CAAC,CAAC,CAAC,CACtCd,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAgB,YAAY,CAAGA,CAAA,GAAM,CACzBhB,YAAY,CAAC,KAAK,CAAC,CACnBE,cAAc,CAACV,OAAO,CAACW,OAAO,CAAC,CACjC,CAAC,CAED,mBACEhB,KAAA,QAAK8B,SAAS,CAAElC,EAAE,CAChB,4BAA4B,CAC5BY,MAAM,EAAI,kCACZ,CAAE,CAAAuB,QAAA,eAEAjC,IAAA,QAAKgC,SAAS,CAAElC,EAAE,CAChB,qEAAqE,CACrEY,MAAM,CAAG,oCAAoC,CAAG,gCAClD,CAAE,CAAAuB,QAAA,CACCvB,MAAM,cACLV,IAAA,CAACR,IAAI,EAACwC,SAAS,CAAC,SAAS,CAAE,CAAC,cAE5BhC,IAAA,CAACT,GAAG,EAACyC,SAAS,CAAC,SAAS,CAAE,CAC3B,CACE,CAAC,cAGN9B,KAAA,QAAK8B,SAAS,CAAElC,EAAE,CAChB,gBAAgB,CAChBY,MAAM,EAAI,yBACZ,CAAE,CAAAuB,QAAA,eACAjC,IAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5BnB,SAAS,cACRd,IAAA,CAACb,IAAI,EAAC6C,SAAS,CAAElC,EAAE,CACjB,aAAa,CACbY,MAAM,CAAG,oCAAoC,CAAG,UAClD,CAAE,CAAAuB,QAAA,cACA/B,KAAA,CAACd,WAAW,EAAC4C,SAAS,CAAC,KAAK,CAAAC,QAAA,eAC1BjC,IAAA,CAACV,KAAK,EACJ4C,KAAK,CAAElB,WAAY,CACnBmB,QAAQ,CAAGC,CAAC,EAAKnB,cAAc,CAACmB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDF,SAAS,CAAC,MAAM,CAChBM,SAAS,MACV,CAAC,cACFpC,KAAA,QAAK8B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B/B,KAAA,CAACb,MAAM,EAACkD,IAAI,CAAC,IAAI,CAACC,OAAO,CAAEZ,UAAW,CAAAK,QAAA,eACpCjC,IAAA,CAACJ,IAAI,EAACoC,SAAS,CAAC,cAAc,CAAE,CAAC,SAEnC,EAAQ,CAAC,cACT9B,KAAA,CAACb,MAAM,EAACkD,IAAI,CAAC,IAAI,CAACE,OAAO,CAAC,SAAS,CAACD,OAAO,CAAET,YAAa,CAAAE,QAAA,eACxDjC,IAAA,CAACH,CAAC,EAACmC,SAAS,CAAC,cAAc,CAAE,CAAC,aAEhC,EAAQ,CAAC,EACN,CAAC,EACK,CAAC,CACV,CAAC,cAEP9B,KAAA,CAAAE,SAAA,EAAA6B,QAAA,eACEjC,IAAA,CAACb,IAAI,EAAC6C,SAAS,CAAElC,EAAE,CACjB,uBAAuB,CACvBY,MAAM,CACF,sDAAsD,CACtD,oDACN,CAAE,CAAAuB,QAAA,cACAjC,IAAA,CAACZ,WAAW,EAAC4C,SAAS,CAAC,KAAK,CAAAC,QAAA,cAC1BjC,IAAA,QAAKgC,SAAS,CAAC,iDAAiD,CAAAC,QAAA,CAC7D1B,OAAO,CAACW,OAAO,CACb,CAAC,CACK,CAAC,CACV,CAAC,cAGPhB,KAAA,QAAK8B,SAAS,CAAElC,EAAE,CAChB,oFAAoF,CACpFY,MAAM,CAAG,QAAQ,CAAG,SACtB,CAAE,CAAAuB,QAAA,eACAjC,IAAA,CAACX,MAAM,EACLoD,OAAO,CAAC,OAAO,CACfF,IAAI,CAAC,MAAM,CACXP,SAAS,CAAC,SAAS,CACnBQ,OAAO,CAAErB,UAAW,CAAAc,QAAA,CAEnBrB,MAAM,cACLZ,IAAA,CAACN,KAAK,EAACsC,SAAS,CAAC,SAAS,CAAE,CAAC,cAE7BhC,IAAA,CAACP,IAAI,EAACuC,SAAS,CAAC,SAAS,CAAE,CAC5B,CACK,CAAC,CACRtB,MAAM,EAAID,MAAM,eACfT,IAAA,CAACX,MAAM,EACLoD,OAAO,CAAC,OAAO,CACfF,IAAI,CAAC,MAAM,CACXP,SAAS,CAAC,SAAS,CACnBQ,OAAO,CAAEb,UAAW,CAAAM,QAAA,cAEpBjC,IAAA,CAACL,KAAK,EAACqC,SAAS,CAAC,SAAS,CAAE,CAAC,CACvB,CACT,EACE,CAAC,EACN,CACH,CACE,CAAC,cAGNhC,IAAA,QAAKgC,SAAS,CAAElC,EAAE,CAChB,oCAAoC,CACpCY,MAAM,EAAI,YACZ,CAAE,CAAAuB,QAAA,CACCzB,IAAI,CACF,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}