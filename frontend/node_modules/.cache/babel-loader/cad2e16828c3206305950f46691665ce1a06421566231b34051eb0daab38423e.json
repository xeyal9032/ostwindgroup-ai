{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import ChatList from'./ChatList';import ChatWindow from'./ChatWindow';import MobileNavigation from'./MobileNavigation';import{conversationService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatApp=()=>{const{conversationId}=useParams();const[conversations,setConversations]=useState([]);const[currentConversationId,setCurrentConversationId]=useState(conversationId||null);const[loading,setLoading]=useState(true);const[allMessages,setAllMessages]=useState([]);const[showStats,setShowStats]=useState(false);const[showAnalytics,setShowAnalytics]=useState(false);useEffect(()=>{loadConversations();},[]);useEffect(()=>{setCurrentConversationId(conversationId||null);},[conversationId]);const loadConversations=async()=>{try{const data=await conversationService.getConversations();setConversations(data);}catch(error){console.error('Sohbetler yüklenirken hata:',error);}finally{setLoading(false);}};const handleNewConversation=async()=>{try{const newConversation=await conversationService.createConversation();setConversations(prev=>[newConversation,...prev]);setCurrentConversationId(newConversation.id);// Reload conversations to get updated list\nawait loadConversations();}catch(error){console.error('Yeni sohbet oluşturulurken hata:',error);}};const handleDeleteConversation=async id=>{try{await conversationService.deleteConversation(id);setConversations(prev=>prev.filter(conv=>conv.id!==id));if(currentConversationId===id){setCurrentConversationId(null);}}catch(error){console.error('Sohbet silinirken hata:',error);}};const handleSelectConversation=id=>{setCurrentConversationId(id);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-lg\",children:\"Y\\xFCkleniyor...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-screen bg-background overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block w-80 border-r bg-card/50 backdrop-blur-sm\",children:/*#__PURE__*/_jsx(ChatList,{conversations:conversations,currentConversationId:currentConversationId,onNewConversation:handleNewConversation,onDeleteConversation:handleDeleteConversation,onSelectConversation:handleSelectConversation,allMessages:allMessages})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden flex items-center justify-between p-4 border-b bg-card/80 backdrop-blur-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-primary font-bold text-sm\",children:\"AI\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-semibold\",children:\"OstWindGroup AI\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-600 font-medium\",children:\"\\xC7evrimi\\xE7i\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col md:pb-0 pb-20\",children:/*#__PURE__*/_jsx(ChatWindow,{conversationId:currentConversationId,onNewConversation:handleNewConversation,onMessagesUpdate:setAllMessages})})]}),/*#__PURE__*/_jsx(MobileNavigation,{onNewConversation:handleNewConversation,onToggleStats:()=>setShowStats(!showStats),onToggleAnalytics:()=>setShowAnalytics(!showAnalytics),showStats:showStats,showAnalytics:showAnalytics})]});};export default ChatApp;","map":{"version":3,"names":["React","useState","useEffect","useParams","ChatList","ChatWindow","MobileNavigation","conversationService","jsx","_jsx","jsxs","_jsxs","ChatApp","conversationId","conversations","setConversations","currentConversationId","setCurrentConversationId","loading","setLoading","allMessages","setAllMessages","showStats","setShowStats","showAnalytics","setShowAnalytics","loadConversations","data","getConversations","error","console","handleNewConversation","newConversation","createConversation","prev","id","handleDeleteConversation","deleteConversation","filter","conv","handleSelectConversation","className","children","onNewConversation","onDeleteConversation","onSelectConversation","onMessagesUpdate","onToggleStats","onToggleAnalytics"],"sources":["C:/Users/xeyal/Desktop/Ai/app/frontend/src/components/ChatApp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport ChatList from './ChatList';\nimport ChatWindow from './ChatWindow';\nimport MobileNavigation from './MobileNavigation';\nimport { conversationService } from '../services/api';\n\nconst ChatApp = () => {\n  const { conversationId } = useParams();\n  const [conversations, setConversations] = useState([]);\n  const [currentConversationId, setCurrentConversationId] = useState(conversationId || null);\n  const [loading, setLoading] = useState(true);\n  const [allMessages, setAllMessages] = useState([]);\n  const [showStats, setShowStats] = useState(false);\n  const [showAnalytics, setShowAnalytics] = useState(false);\n\n  useEffect(() => {\n    loadConversations();\n  }, []);\n\n  useEffect(() => {\n    setCurrentConversationId(conversationId || null);\n  }, [conversationId]);\n\n  const loadConversations = async () => {\n    try {\n      const data = await conversationService.getConversations();\n      setConversations(data);\n    } catch (error) {\n      console.error('Sohbetler yüklenirken hata:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNewConversation = async () => {\n    try {\n      const newConversation = await conversationService.createConversation();\n      setConversations(prev => [newConversation, ...prev]);\n      setCurrentConversationId(newConversation.id);\n      // Reload conversations to get updated list\n      await loadConversations();\n    } catch (error) {\n      console.error('Yeni sohbet oluşturulurken hata:', error);\n    }\n  };\n\n  const handleDeleteConversation = async (id) => {\n    try {\n      await conversationService.deleteConversation(id);\n      setConversations(prev => prev.filter(conv => conv.id !== id));\n      if (currentConversationId === id) {\n        setCurrentConversationId(null);\n      }\n    } catch (error) {\n      console.error('Sohbet silinirken hata:', error);\n    }\n  };\n\n  const handleSelectConversation = (id) => {\n    setCurrentConversationId(id);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <div className=\"text-lg\">Yükleniyor...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex h-screen bg-background overflow-hidden\">\n      {/* Desktop Sidebar */}\n      <div className=\"hidden md:block w-80 border-r bg-card/50 backdrop-blur-sm\">\n        <ChatList\n          conversations={conversations}\n          currentConversationId={currentConversationId}\n          onNewConversation={handleNewConversation}\n          onDeleteConversation={handleDeleteConversation}\n          onSelectConversation={handleSelectConversation}\n          allMessages={allMessages}\n        />\n      </div>\n\n      {/* Main Chat Area */}\n      <div className=\"flex-1 flex flex-col relative\">\n        {/* Mobile Header */}\n        <div className=\"md:hidden flex items-center justify-between p-4 border-b bg-card/80 backdrop-blur-sm\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"w-8 h-8 bg-gradient-to-br from-primary/20 to-primary/10 rounded-full flex items-center justify-center\">\n              <span className=\"text-primary font-bold text-sm\">AI</span>\n            </div>\n            <h1 className=\"text-lg font-semibold\">OstWindGroup AI</h1>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n            <span className=\"text-xs text-green-600 font-medium\">Çevrimiçi</span>\n          </div>\n        </div>\n\n        <div className=\"flex-1 flex flex-col md:pb-0 pb-20\">\n          <ChatWindow\n            conversationId={currentConversationId}\n            onNewConversation={handleNewConversation}\n            onMessagesUpdate={setAllMessages}\n          />\n        </div>\n      </div>\n\n      {/* Mobile Navigation */}\n      <MobileNavigation\n        onNewConversation={handleNewConversation}\n        onToggleStats={() => setShowStats(!showStats)}\n        onToggleAnalytics={() => setShowAnalytics(!showAnalytics)}\n        showStats={showStats}\n        showAnalytics={showAnalytics}\n      />\n    </div>\n  );\n};\n\nexport default ChatApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}